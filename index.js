"use strict";var __assign=this&&this.__assign||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};exports.__esModule=true;exports.Tag=exports.Product=exports.Chunk=exports.Category=exports.Stock=void 0;var axios_1=require("axios");var Stock=function(){function Stock(host,defaultUrls){if(host===void 0){host="http://localhost:8000"}if(defaultUrls===void 0){defaultUrls={}}var _this=this;this.host="http://localhost:8000";this.defaultUrls={productList:function(){return _this.host+"/api/products"},productsByTag:function(tag){return _this.host+"/api/products/tag/".concat(tag.id)},productsChunk:function(page,size){return _this.host+"/api/products/chunk/".concat(page,"/").concat(size)},productsByCategory:function(category){return _this.host+"/api/products/category/".concat(category.id)},productById:function(id){return _this.host+"/api/products/".concat(id)},productsBySearch:function(search){return _this.host+"/api/products/?search=".concat(search)}};this.host=host;this.defaultUrls=__assign(__assign({},this.defaultUrls),defaultUrls)}Stock.prototype.productList=function(onSuccess,makeUrl){if(makeUrl===void 0){makeUrl=this.defaultUrls.productList}this.simpleGet(makeUrl(),onSuccess)};Stock.prototype.productsByTag=function(onSuccess,tag,makeUrl){if(makeUrl===void 0){makeUrl=this.defaultUrls.productsByTag}this.simpleGet(makeUrl(tag),onSuccess)};Stock.prototype.productsChunk=function(page,size,onSuccess,makeUrl){if(makeUrl===void 0){makeUrl=this.defaultUrls.productsChunk}this.simpleGet(makeUrl(page,size),onSuccess)};Stock.prototype.productsByCategory=function(onSuccess,category,makeUrl){if(makeUrl===void 0){makeUrl=this.defaultUrls.productsByCategory}this.simpleGet(makeUrl(category),onSuccess)};Stock.prototype.productById=function(id,onSuccess,makeUrl){if(makeUrl===void 0){makeUrl=this.defaultUrls.productById}this.simpleGet(makeUrl(id),onSuccess)};Stock.prototype.productsBySearch=function(search,onSuccess,makeUrl){if(makeUrl===void 0){makeUrl=this.defaultUrls.productsBySearch}var searchEncoded=encodeURIComponent(search);this.simpleGet(makeUrl(searchEncoded),onSuccess)};Stock.prototype.simpleGet=function(url,onSuccess){var _this=this;axios_1["default"].get(url).then((function(response){var data=response.data;onSuccess(data)}))["catch"]((function(error){_this.handleError(error)}))};Stock.prototype.handleError=function(error){console.log(error)};return Stock}();exports.Stock=Stock;var Category=function(){function Category(){}return Category}();exports.Category=Category;var Chunk=function(){function Chunk(){}return Chunk}();exports.Chunk=Chunk;var Product=function(){function Product(){}return Product}();exports.Product=Product;var Tag=function(){function Tag(){}return Tag}();exports.Tag=Tag;